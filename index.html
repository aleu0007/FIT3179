<!DOCTYPE html>
<html>
<head>
  <title>Choropleth Map</title>
  <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-animator@1.0.0"></script>
  
  <!-- CSS file -->
  <link rel="stylesheet" type="text/css" href="css/styles.css" media="all">

</head>
<body>
  <section class="section-container header-container overlay">
    <div class="header-content">
      <h1 class="white-h1">Global Hunger</h1>
      <p class="white-p">
        To lead an active and healthy life, individuals need a well-balanced diet
        that provides adequate calories and the right proportion of essential 
        nutrients and food groups. Unfortunately, many people globally struggle
        to afford enough food to meet their daily energy needs, while for others,
        nutritious diets are prohibitively expensive. 
      </p>
    </div>
  </section>

  <section class="content-container">
    <section> 
      <h2>Percentage of People who Cannot Afford a Healthy Meal</h2>
      <div id="choropleth_map" class="idiom"></div>
      <p>Hover over countries for more information</p>
    </section>

    <section class="section-container meal-header-contianer overlay">
      <div class="header-content">
        <h1 class="white-h1">Meal Affordability</h1>
        <p class="white-p">
          A diet is considered affordable if it costs less than 52 percent of a household's income.
          While costs are not linked to a country's income, affordability strongly correlates with income levels, 
          becoming more attainable as income increases.
        </p>
        <br>
        <p class="white-p">
          The prices shown are the cheapest food items in each country that meet the standards of the three diets,
          adjusted for purchasing power parity to reflect local living costs.
        </p>
      </div>
    </section>

    <section>
      <div class="meal-para">
        <div class="content-container">
          <p>The three main types of diets are:</p>
          <ul class="left-list">
            <li><p><strong>Energy-sufficient diet</strong>: ensures adequate energy intake primarily from starchy foods.</p></li>
            <li><p><strong>Nutrient-balanced diet</strong>: prevents both nutrient deficiencies and excesses.</p></li>
            <li><p><strong>Healthy diet</strong>: supports the prevention of diet-related diseases and achieve nutrient adequacy.</p></li>
          </ul>
        </div>
        <div class="content-container">
          <h2>Affordability between Diet Types</h2>
          <div id="scatter_colour" class="idiom"></div>
          <p>Click on legend to filter.</p>
        </div>
      </div>

      <div class="navbar">
        <div onclick="changeContent('section1')"><p>Energy Sufficient</p></div>
        <div onclick="changeContent('section2')"><p>Nutrient Balanced</p></div>
        <div onclick="changeContent('section3')"><p>Healthy</p></div>
      </div>
      
      <div class="dynamic-content-container">
        <div id="dynamic-chart"></div>  
        <div class="display: flex; align-items: flex-start;">
          <div id="content-title" class="dynamic-content-title"></div>
          <div id="content-text" class="dynamic-content-text"></div>
          <div class="content-container">
            <p><b>Interaction Tips</b></p>
            <ul class="left-list">
              <li><p>Click on a tab to view the cost for each type of meal.</p></li>
              <li><p>Click on drag on the scatterplot to filter.</p></li>
              <li><p>Click on a bar to filter by Continent. Hold Shift and click for multi-select.</p></li>
            </ul>
          </div>
        </div>
      </div>
    </section>
  </section>

  <section>
    <div id="world_meal_price" class="idiom"></div>
  </section>

  <section class="section-container footer-container">
    <p>Author: Angelina Leung</p>
    <p>Date of Completion: 12/10/2024</p>
    <p>Data Sources: <a href="https://www.worldbank.org/en/programs/icp/brief/foodpricesfornutrition">Food Prices for Nutrition DataHub</a>, <a href="https://www.worldbank.org/en/programs/icp">World Bank ICP Program</a></p>
  </section>
  
  <script src="js/navbar.js"></script>
  <script type="text/javascript">
    var vg_1 = "js/map_with_graticules.json";
    vegaEmbed('#choropleth_map', vg_1, {"actions": false}).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var vg_2 = "js/scatter_colour.json";
    vegaEmbed('#scatter_colour', vg_2, {"actions": false}).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    var vg_3 = "js/world_meal_price.json";
    vegaEmbed('#world_meal_price', vg_3, {"actions": false}).then(function(result) {
      // Access the Vega view instance (https://vega.github.io/vega/docs/api/view/) as result.view
    }).catch(console.error);

    changeContent('section1'); // default section
  </script>

</body>
</html>
