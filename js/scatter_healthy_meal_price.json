{
	"$schema": "https://vega.github.io/schema/vega-lite/v5.json",
	"transform": [
    {
      "lookup": "country",
      "from": {
        "data": {
					"values": [
						{"country": "Angola", "continent": "Africa"},
						{"country": "Albania", "continent": "Europe"},
						{"country": "United Arab Emirates", "continent": "Asia"},
						{"country": "Argentina", "continent": "South America"},
						{"country": "Armenia", "continent": "Asia"},
						{"country": "Australia", "continent": "Oceania"},
						{"country": "Austria", "continent": "Europe"},
						{"country": "Azerbaijan", "continent": "Asia"},
						{"country": "Burundi", "continent": "Africa"},
						{"country": "Belgium", "continent": "Europe"},
						{"country": "Benin", "continent": "Africa"},
						{"country": "Burkina Faso", "continent": "Africa"},
						{"country": "Bangladesh", "continent": "Asia"},
						{"country": "Bulgaria", "continent": "Europe"},
						{"country": "Bosnia and Herzegovina", "continent": "Europe"},
						{"country": "Belarus", "continent": "Europe"},
						{"country": "Belize", "continent": "North America"},
						{"country": "Bolivia", "continent": "South America"},
						{"country": "Brazil", "continent": "South America"},
						{"country": "Bhutan", "continent": "Asia"},
						{"country": "Botswana", "continent": "Africa"},
						{"country": "Central African Republic", "continent": "Africa"},
						{"country": "Canada", "continent": "North America"},
						{"country": "Switzerland", "continent": "Europe"},
						{"country": "Chile", "continent": "South America"},
						{"country": "China", "continent": "Asia"},
						{"country": "Cote d'Ivoire (Ivory Coast)", "continent": "Africa"},
						{"country": "Cameroon", "continent": "Africa"},
						{"country": "Democratic Republic of the Congo", "continent": "Africa"},
						{"country": "Republic of the Congo", "continent": "Africa"},
						{"country": "Colombia", "continent": "South America"},
						{"country": "Cape Verde", "continent": "Africa"},
						{"country": "Costa Rica", "continent": "North America"},
						{"country": "Cyprus", "continent": "Asia"},
						{"country": "Czech Republic", "continent": "Europe"},
						{"country": "Germany", "continent": "Europe"},
						{"country": "Djibouti", "continent": "Africa"},
						{"country": "Denmark", "continent": "Europe"},
						{"country": "Dominican Republic", "continent": "North America"},
						{"country": "Algeria", "continent": "Africa"},
						{"country": "Ecuador", "continent": "South America"},
						{"country": "Egypt", "continent": "Africa"},
						{"country": "Spain", "continent": "Europe"},
						{"country": "Estonia", "continent": "Europe"},
						{"country": "Ethiopia", "continent": "Africa"},
						{"country": "Finland", "continent": "Europe"},
						{"country": "Fiji", "continent": "Oceania"},
						{"country": "France", "continent": "Europe"},
						{"country": "Gabon", "continent": "Africa"},
						{"country": "United Kingdom", "continent": "Europe"},
						{"country": "Ghana", "continent": "Africa"},
						{"country": "Guinea", "continent": "Africa"},
						{"country": "Gambia", "continent": "Africa"},
						{"country": "Guinea-Bissau", "continent": "Africa"},
						{"country": "Greece", "continent": "Europe"},
						{"country": "Guyana", "continent": "South America"},
						{"country": "Honduras", "continent": "North America"},
						{"country": "Croatia", "continent": "Europe"},
						{"country": "Haiti", "continent": "North America"},
						{"country": "Hungary", "continent": "Europe"},
						{"country": "Indonesia", "continent": "Asia"},
						{"country": "India", "continent": "Asia"},
						{"country": "Ireland", "continent": "Europe"},
						{"country": "Iran", "continent": "Asia"},
						{"country": "Iraq", "continent": "Asia"},
						{"country": "Iceland", "continent": "Europe"},
						{"country": "Israel", "continent": "Asia"},
						{"country": "Italy", "continent": "Europe"},
						{"country": "Jamaica", "continent": "North America"},
						{"country": "Jordan", "continent": "Asia"},
						{"country": "Japan", "continent": "Asia"},
						{"country": "Kazakhstan", "continent": "Asia"},
						{"country": "Kenya", "continent": "Africa"},
						{"country": "Kyrgyzstan", "continent": "Asia"},
						{"country": "South Korea", "continent": "Asia"},
						{"country": "Laos", "continent": "Asia"},
						{"country": "Liberia", "continent": "Africa"},
						{"country": "Saint Lucia", "continent": "North America"},
						{"country": "Sri Lanka", "continent": "Asia"},
						{"country": "Lesotho", "continent": "Africa"},
						{"country": "Lithuania", "continent": "Europe"},
						{"country": "Luxembourg", "continent": "Europe"},
						{"country": "Latvia", "continent": "Europe"},
						{"country": "Morocco", "continent": "Africa"},
						{"country": "Moldova", "continent": "Europe"},
						{"country": "Madagascar", "continent": "Africa"},
						{"country": "Maldives", "continent": "Asia"},
						{"country": "Mexico", "continent": "North America"},
						{"country": "North Macedonia", "continent": "Europe"},
						{"country": "Mali", "continent": "Africa"},
						{"country": "Malta", "continent": "Europe"},
						{"country": "Myanmar", "continent": "Asia"},
						{"country": "Montenegro", "continent": "Europe"},
						{"country": "Mongolia", "continent": "Asia"},
						{"country": "Mozambique", "continent": "Africa"},
						{"country": "Mauritania", "continent": "Africa"},
						{"country": "Mauritius", "continent": "Africa"},
						{"country": "Malawi", "continent": "Africa"},
						{"country": "Malaysia", "continent": "Asia"},
						{"country": "Namibia", "continent": "Africa"},
						{"country": "Niger", "continent": "Africa"},
						{"country": "Nigeria", "continent": "Africa"},
						{"country": "Nicaragua", "continent": "North America"},
						{"country": "Netherlands", "continent": "Europe"},
						{"country": "Norway", "continent": "Europe"},
						{"country": "Nepal", "continent": "Asia"},
						{"country": "Pakistan", "continent": "Asia"},
						{"country": "Panama", "continent": "North America"},
						{"country": "Peru", "continent": "South America"},
						{"country": "Philippines", "continent": "Asia"},
						{"country": "Poland", "continent": "Europe"},
						{"country": "Portugal", "continent": "Europe"},
						{"country": "Paraguay", "continent": "South America"},
						{"country": "Palestine", "continent": "Asia"},
						{"country": "Romania", "continent": "Europe"},
						{"country": "Russia", "continent": "Europe"},
						{"country": "Rwanda", "continent": "Africa"},
						{"country": "Sudan", "continent": "Africa"},
						{"country": "Senegal", "continent": "Africa"},
						{"country": "Sierra Leone", "continent": "Africa"},
						{"country": "Serbia", "continent": "Europe"},
						{"country": "Sao Tome and Principe", "continent": "Africa"},
						{"country": "Suriname", "continent": "South America"},
						{"country": "Slovakia", "continent": "Europe"},
						{"country": "Slovenia", "continent": "Europe"},
						{"country": "Sweden", "continent": "Europe"},
						{"country": "Eswatini (Swaziland)", "continent": "Africa"},
						{"country": "Seychelles", "continent": "Africa"},
						{"country": "Chad", "continent": "Africa"},
						{"country": "Thailand", "continent": "Asia"},
						{"country": "Tajikistan", "continent": "Asia"},
						{"country": "Trinidad and Tobago", "continent": "North America"},
						{"country": "Tunisia", "continent": "Africa"},
						{"country": "Turkey", "continent": "Asia"},
						{"country": "Tanzania", "continent": "Africa"},
						{"country": "Uganda", "continent": "Africa"},
						{"country": "Uruguay", "continent": "South America"},
						{"country": "United States", "continent": "North America"},
						{"country": "Vietnam", "continent": "Asia"},
						{"country": "South Africa", "continent": "Africa"},
						{"country": "Zambia", "continent": "Africa"},
						{"country": "Zimbabwe", "continent": "Africa"}
					]
				},				
        "key": "country",
        "fields": ["continent"]
      }
    }
  ],
	"data": {"url": "https://raw.githubusercontent.com/aleu0007/FIT3179/refs/heads/main/data/goal02_affordability.csv"},
	"vconcat": [
		{	
			"encoding": {
				"tooltip": [
					{"field": "country", "type": "nominal", "title": "Country"},
					{"field": "gdp", "type": "quantitative", "title": "GDP", "format": "$,"},
					{"field": "CoRD", "type": "quantitative", "title": "Cost of an Energy Sufficient Meal", "format": "$.2f"}
				],
				"x": {
					"field": "gdp", 
					"type": "quantitative", 
					"title": "GDP",
					"axis": {
						"tickCount": 3
					},
					"scale": {
						"type": "log",
						"domain": [100, 1000000]
						}
					},
				"y": {
					"field": "CoRD", 
					"type": "quantitative",
					"title": "Cost ($PPP)"
				},
				"color": {
					"condition": {
						"param": "brush",
						"field": "continent",
						"title": "Continent",
						"type": "nominal",
						"scale": {
							"domain": ["Africa", "Asia", "Europe", "North America", "Oceania", "South America"]
						}
					},
					"value": "lightgray"
				},
				"size": {
					"field": "CoRD_headcount",
					"type": "quantitative",
					"title": "Percentage Unafford",
					"scale": {
						"type": "threshold",
						"domain": [2.8, 3, 3.3, 3.7],
						"range": [30, 50, 100, 200, 400]
					}
				}
			},
			"width": 600,
			"height": 300,
			"mark": "circle",
			"params": [{
				"name": "brush",
				"select": {"type": "interval", "encodings": ["x"]}
			}],
			"transform": [{"filter": {"param": "click"}}]
		},
		{
			"encoding": {
				"color": {
					"condition": {
						"param": "click",
						"field": "continent",
						"scale": {
							"domain": ["Africa", "Asia", "Europe", "North America", "Oceania", "South America"]
						}
					},
					"value": "lightgray"
				},
				"x": {"aggregate": "average", "field": "CoRD", "title": "Average Meal Price ($)"},
        		"y": {"title": "Continent", "field": "continent"}
			},
			"width": 600,
			"mark": "bar",
			"params": [{
				"name": "click",
				"select": {"type": "point", "encodings": ["color"]}
			}],
			"transform": [{"filter": {"param": "brush"}}]
		}
	]
}